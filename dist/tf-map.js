!function(){"use strict";function n(){}function t(n){return n()}function e(){return Object.create(null)}function r(n){n.forEach(t)}function i(n){return"function"==typeof n}function o(n,t){return n!=n?t==t:n!==t||n&&"object"==typeof n||"function"==typeof n}function u(n,t){n.appendChild(t)}function l(n,t,e){n.insertBefore(t,e||null)}function a(n){n.parentNode.removeChild(n)}function c(n){return document.createElement(n)}function f(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function s(n){return document.createTextNode(n)}function p(n,t,e,r){return n.addEventListener(t,e,r),()=>n.removeEventListener(t,e,r)}function h(n,t,e){null==e?n.removeAttribute(t):n.getAttribute(t)!==e&&n.setAttribute(t,e)}function d(n,t){t=""+t,n.wholeText!==t&&(n.data=t)}function g(n,t,e,r){null===e?n.style.removeProperty(t):n.style.setProperty(t,e,r?"important":"")}function v(n){const t={};for(const e of n)t[e.name]=e.value;return t}let m;function y(n){m=n}function $(n){(function(){if(!m)throw new Error("Function called outside component initialization");return m})().$$.on_mount.push(n)}const E=[],S=[],x=[],_=[],b=Promise.resolve();let w=!1;function k(n){x.push(n)}const M=new Set;let N=0;function C(){const n=m;do{for(;N<E.length;){const n=E[N];N++,y(n),j(n.$$)}for(y(null),E.length=0,N=0;S.length;)S.pop()();for(let n=0;n<x.length;n+=1){const t=x[n];M.has(t)||(M.add(t),t())}x.length=0}while(E.length);for(;_.length;)_.pop()();w=!1,M.clear(),y(n)}function j(n){if(null!==n.fragment){n.update(),r(n.before_update);const t=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,t),n.after_update.forEach(k)}}const A=new Set;function T(n,t){-1===n.$$.dirty[0]&&(E.push(n),w||(w=!0,b.then(C)),n.$$.dirty.fill(0)),n.$$.dirty[t/31|0]|=1<<t%31}function P(o,u,l,c,f,s,p,h=[-1]){const d=m;y(o);const g=o.$$={fragment:null,ctx:null,props:s,update:n,not_equal:f,bound:e(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(u.context||(d?d.$$.context:[])),callbacks:e(),dirty:h,skip_bound:!1,root:u.target||d.$$.root};p&&p(g.root);let v=!1;if(g.ctx=l?l(o,u.props||{},((n,t,...e)=>{const r=e.length?e[0]:t;return g.ctx&&f(g.ctx[n],g.ctx[n]=r)&&(!g.skip_bound&&g.bound[n]&&g.bound[n](r),v&&T(o,n)),t})):[],g.update(),v=!0,r(g.before_update),g.fragment=!!c&&c(g.ctx),u.target){if(u.hydrate){const n=function(n){return Array.from(n.childNodes)}(u.target);g.fragment&&g.fragment.l(n),n.forEach(a)}else g.fragment&&g.fragment.c();u.intro&&(($=o.$$.fragment)&&$.i&&(A.delete($),$.i(E))),function(n,e,o,u){const{fragment:l,on_mount:a,on_destroy:c,after_update:f}=n.$$;l&&l.m(e,o),u||k((()=>{const e=a.map(t).filter(i);c?c.push(...e):r(e),n.$$.on_mount=[]})),f.forEach(k)}(o,u.target,u.anchor,u.customElement),C()}var $,E;y(d)}let R;"function"==typeof HTMLElement&&(R=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:n}=this.$$;this.$$.on_disconnect=n.map(t).filter(i);for(const n in this.$$.slotted)this.appendChild(this.$$.slotted[n])}attributeChangedCallback(n,t,e){this[n]=e}disconnectedCallback(){r(this.$$.on_disconnect)}$destroy(){!function(n,t){const e=n.$$;null!==e.fragment&&(r(e.on_destroy),e.fragment&&e.fragment.d(t),e.on_destroy=e.fragment=null,e.ctx=[])}(this,1),this.$destroy=n}$on(n,t){const e=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return e.push(t),()=>{const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}$set(n){var t;this.$$set&&(t=n,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(n),this.$$.skip_bound=!1)}});var O={},F={};function L(n){return new Function("d","return {"+n.map((function(n,t){return JSON.stringify(n)+": d["+t+'] || ""'})).join(",")+"}")}function z(n){var t=Object.create(null),e=[];return n.forEach((function(n){for(var r in n)r in t||e.push(t[r]=r)})),e}function U(n,t){var e=n+"",r=e.length;return r<t?new Array(t-r+1).join(0)+e:e}function G(n){var t,e=n.getUTCHours(),r=n.getUTCMinutes(),i=n.getUTCSeconds(),o=n.getUTCMilliseconds();return isNaN(n)?"Invalid Date":((t=n.getUTCFullYear())<0?"-"+U(-t,6):t>9999?"+"+U(t,6):U(t,4))+"-"+U(n.getUTCMonth()+1,2)+"-"+U(n.getUTCDate(),2)+(o?"T"+U(e,2)+":"+U(r,2)+":"+U(i,2)+"."+U(o,3)+"Z":i?"T"+U(e,2)+":"+U(r,2)+":"+U(i,2)+"Z":r||e?"T"+U(e,2)+":"+U(r,2)+"Z":"")}var H=function(n){var t=new RegExp('["'+n+"\n\r]"),e=n.charCodeAt(0);function r(n,t){var r,i=[],o=n.length,u=0,l=0,a=o<=0,c=!1;function f(){if(a)return F;if(c)return c=!1,O;var t,r,i=u;if(34===n.charCodeAt(i)){for(;u++<o&&34!==n.charCodeAt(u)||34===n.charCodeAt(++u););return(t=u)>=o?a=!0:10===(r=n.charCodeAt(u++))?c=!0:13===r&&(c=!0,10===n.charCodeAt(u)&&++u),n.slice(i+1,t-1).replace(/""/g,'"')}for(;u<o;){if(10===(r=n.charCodeAt(t=u++)))c=!0;else if(13===r)c=!0,10===n.charCodeAt(u)&&++u;else if(r!==e)continue;return n.slice(i,t)}return a=!0,n.slice(i,o)}for(10===n.charCodeAt(o-1)&&--o,13===n.charCodeAt(o-1)&&--o;(r=f())!==F;){for(var s=[];r!==O&&r!==F;)s.push(r),r=f();t&&null==(s=t(s,l++))||i.push(s)}return i}function i(t,e){return t.map((function(t){return e.map((function(n){return u(t[n])})).join(n)}))}function o(t){return t.map(u).join(n)}function u(n){return null==n?"":n instanceof Date?G(n):t.test(n+="")?'"'+n.replace(/"/g,'""')+'"':n}return{parse:function(n,t){var e,i,o=r(n,(function(n,r){if(e)return e(n,r-1);i=n,e=t?function(n,t){var e=L(n);return function(r,i){return t(e(r),i,n)}}(n,t):L(n)}));return o.columns=i||[],o},parseRows:r,format:function(t,e){return null==e&&(e=z(t)),[e.map(u).join(n)].concat(i(t,e)).join("\n")},formatBody:function(n,t){return null==t&&(t=z(n)),i(n,t).join("\n")},formatRows:function(n){return n.map(o).join("\n")},formatRow:o,formatValue:u}}(","),V=H.parse;function Z(n){if(!n.ok)throw new Error(n.status+" "+n.statusText);return n.text()}function B(n,t){return fetch(n,t).then(Z)}var D,I=(D=V,function(n,t,e){return 2===arguments.length&&"function"==typeof t&&(e=t,t=void 0),B(n,t).then((function(n){return D(n,e)}))});function Y(n){if(!n.ok)throw new Error(n.status+" "+n.statusText);if(204!==n.status&&205!==n.status)return n.json()}function q(n){return n}function J(n,t){var e=t.id,r=t.bbox,i=null==t.properties?{}:t.properties,o=function(n,t){var e=function(n){if(null==n)return q;var t,e,r=n.scale[0],i=n.scale[1],o=n.translate[0],u=n.translate[1];return function(n,l){l||(t=e=0);var a=2,c=n.length,f=new Array(c);for(f[0]=(t+=n[0])*r+o,f[1]=(e+=n[1])*i+u;a<c;)f[a]=n[a],++a;return f}}(n.transform),r=n.arcs;function i(n,t){t.length&&t.pop();for(var i=r[n<0?~n:n],o=0,u=i.length;o<u;++o)t.push(e(i[o],o));n<0&&function(n,t){for(var e,r=n.length,i=r-t;i<--r;)e=n[i],n[i++]=n[r],n[r]=e}(t,u)}function o(n){return e(n)}function u(n){for(var t=[],e=0,r=n.length;e<r;++e)i(n[e],t);return t.length<2&&t.push(t[0]),t}function l(n){for(var t=u(n);t.length<4;)t.push(t[0]);return t}function a(n){return n.map(l)}function c(n){var t,e=n.type;switch(e){case"GeometryCollection":return{type:e,geometries:n.geometries.map(c)};case"Point":t=o(n.coordinates);break;case"MultiPoint":t=n.coordinates.map(o);break;case"LineString":t=u(n.arcs);break;case"MultiLineString":t=n.arcs.map(u);break;case"Polygon":t=a(n.arcs);break;case"MultiPolygon":t=n.arcs.map(a);break;default:return null}return{type:e,coordinates:t}}return c(t)}(n,t);return null==e&&null==r?{type:"Feature",properties:i,geometry:o}:null==r?{type:"Feature",id:e,properties:i,geometry:o}:{type:"Feature",id:e,bbox:r,properties:i,geometry:o}}class W{constructor(){this._partials=new Float64Array(32),this._n=0}add(n){const t=this._partials;let e=0;for(let r=0;r<this._n&&r<32;r++){const i=t[r],o=n+i,u=Math.abs(n)<Math.abs(i)?n-(o-i):i-(o-n);u&&(t[e++]=u),n=o}return t[e]=n,this._n=e+1,this}valueOf(){const n=this._partials;let t,e,r,i=this._n,o=0;if(i>0){for(o=n[--i];i>0&&(t=o,e=n[--i],o=t+e,r=e-(o-t),!r););i>0&&(r<0&&n[i-1]<0||r>0&&n[i-1]>0)&&(e=2*r,t=o+e,e==t-o&&(o=t))}return o}}function X(n){return Array.from(function*(n){for(const t of n)yield*t}(n))}var K=1e-6,Q=Math.PI,nn=Q/2,tn=Q/4,en=2*Q,rn=180/Q,on=Q/180,un=Math.abs,ln=Math.atan,an=Math.atan2,cn=Math.cos,fn=Math.exp,sn=Math.log,pn=Math.sin,hn=Math.sign||function(n){return n>0?1:n<0?-1:0},dn=Math.sqrt,gn=Math.tan;function vn(n){return n>1?nn:n<-1?-nn:Math.asin(n)}function mn(){}function yn(n,t){n&&En.hasOwnProperty(n.type)&&En[n.type](n,t)}var $n={Feature:function(n,t){yn(n.geometry,t)},FeatureCollection:function(n,t){for(var e=n.features,r=-1,i=e.length;++r<i;)yn(e[r].geometry,t)}},En={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)n=e[r],t.point(n[0],n[1],n[2])},LineString:function(n,t){Sn(n.coordinates,t,0)},MultiLineString:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)Sn(e[r],t,0)},Polygon:function(n,t){xn(n.coordinates,t)},MultiPolygon:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)xn(e[r],t)},GeometryCollection:function(n,t){for(var e=n.geometries,r=-1,i=e.length;++r<i;)yn(e[r],t)}};function Sn(n,t,e){var r,i=-1,o=n.length-e;for(t.lineStart();++i<o;)r=n[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function xn(n,t){var e=-1,r=n.length;for(t.polygonStart();++e<r;)Sn(n[e],t,1);t.polygonEnd()}function _n(n,t){n&&$n.hasOwnProperty(n.type)?$n[n.type](n,t):yn(n,t)}function bn(n){return[an(n[1],n[0]),vn(n[2])]}function wn(n){var t=n[0],e=n[1],r=cn(e);return[r*cn(t),r*pn(t),pn(e)]}function kn(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function Mn(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function Nn(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function Cn(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function jn(n){var t=dn(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function An(n,t){function e(e,r){return e=n(e,r),t(e[0],e[1])}return n.invert&&t.invert&&(e.invert=function(e,r){return(e=t.invert(e,r))&&n.invert(e[0],e[1])}),e}function Tn(n,t){return[un(n)>Q?n+Math.round(-n/en)*en:n,t]}function Pn(n,t,e){return(n%=en)?t||e?An(On(n),Fn(t,e)):On(n):t||e?Fn(t,e):Tn}function Rn(n){return function(t,e){return[(t+=n)>Q?t-en:t<-Q?t+en:t,e]}}function On(n){var t=Rn(n);return t.invert=Rn(-n),t}function Fn(n,t){var e=cn(n),r=pn(n),i=cn(t),o=pn(t);function u(n,t){var u=cn(t),l=cn(n)*u,a=pn(n)*u,c=pn(t),f=c*e+l*r;return[an(a*i-f*o,l*e-c*r),vn(f*i+a*o)]}return u.invert=function(n,t){var u=cn(t),l=cn(n)*u,a=pn(n)*u,c=pn(t),f=c*i-a*o;return[an(a*i+c*o,l*e+f*r),vn(f*e-l*r)]},u}function Ln(n,t){(t=wn(t))[0]-=n,jn(t);var e,r=(e=-t[1])>1?0:e<-1?Q:Math.acos(e);return((-t[2]<0?-r:r)+en-K)%en}function zn(){var n,t=[];return{point:function(t,e,r){n.push([t,e,r])},lineStart:function(){t.push(n=[])},lineEnd:mn,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var e=t;return t=[],n=null,e}}}function Un(n,t){return un(n[0]-t[0])<K&&un(n[1]-t[1])<K}function Gn(n,t,e,r){this.x=n,this.z=t,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function Hn(n,t,e,r,i){var o,u,l=[],a=[];if(n.forEach((function(n){if(!((t=n.length-1)<=0)){var t,e,r=n[0],u=n[t];if(Un(r,u)){if(!r[2]&&!u[2]){for(i.lineStart(),o=0;o<t;++o)i.point((r=n[o])[0],r[1]);return void i.lineEnd()}u[0]+=2e-6}l.push(e=new Gn(r,n,null,!0)),a.push(e.o=new Gn(r,null,e,!1)),l.push(e=new Gn(u,n,null,!1)),a.push(e.o=new Gn(u,null,e,!0))}})),l.length){for(a.sort(t),Vn(l),Vn(a),o=0,u=a.length;o<u;++o)a[o].e=e=!e;for(var c,f,s=l[0];;){for(var p=s,h=!0;p.v;)if((p=p.n)===s)return;c=p.z,i.lineStart();do{if(p.v=p.o.v=!0,p.e){if(h)for(o=0,u=c.length;o<u;++o)i.point((f=c[o])[0],f[1]);else r(p.x,p.n.x,1,i);p=p.n}else{if(h)for(c=p.p.z,o=c.length-1;o>=0;--o)i.point((f=c[o])[0],f[1]);else r(p.x,p.p.x,-1,i);p=p.p}c=(p=p.o).z,h=!h}while(!p.v);i.lineEnd()}}}function Vn(n){if(t=n.length){for(var t,e,r=0,i=n[0];++r<t;)i.n=e=n[r],e.p=i,i=e;i.n=e=n[0],e.p=i}}function Zn(n){return un(n[0])<=Q?n[0]:hn(n[0])*((un(n[0])+Q)%en-Q)}function Bn(n,t,e,r){return function(i){var o,u,l,a=t(i),c=zn(),f=t(c),s=!1,p={point:h,lineStart:g,lineEnd:v,polygonStart:function(){p.point=m,p.lineStart=y,p.lineEnd=$,u=[],o=[]},polygonEnd:function(){p.point=h,p.lineStart=g,p.lineEnd=v,u=X(u);var n=function(n,t){var e=Zn(t),r=t[1],i=pn(r),o=[pn(e),-cn(e),0],u=0,l=0,a=new W;1===i?r=nn+K:-1===i&&(r=-nn-K);for(var c=0,f=n.length;c<f;++c)if(p=(s=n[c]).length)for(var s,p,h=s[p-1],d=Zn(h),g=h[1]/2+tn,v=pn(g),m=cn(g),y=0;y<p;++y,d=E,v=x,m=_,h=$){var $=s[y],E=Zn($),S=$[1]/2+tn,x=pn(S),_=cn(S),b=E-d,w=b>=0?1:-1,k=w*b,M=k>Q,N=v*x;if(a.add(an(N*w*pn(k),m*_+N*cn(k))),u+=M?b+w*en:b,M^d>=e^E>=e){var C=Mn(wn(h),wn($));jn(C);var j=Mn(o,C);jn(j);var A=(M^b>=0?-1:1)*vn(j[2]);(r>A||r===A&&(C[0]||C[1]))&&(l+=M^b>=0?1:-1)}}return(u<-K||u<K&&a<-1e-12)^1&l}(o,r);u.length?(s||(i.polygonStart(),s=!0),Hn(u,In,n,e,i)):n&&(s||(i.polygonStart(),s=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),s&&(i.polygonEnd(),s=!1),u=o=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(t,e){n(t,e)&&i.point(t,e)}function d(n,t){a.point(n,t)}function g(){p.point=d,a.lineStart()}function v(){p.point=h,a.lineEnd()}function m(n,t){l.push([n,t]),f.point(n,t)}function y(){f.lineStart(),l=[]}function $(){m(l[0][0],l[0][1]),f.lineEnd();var n,t,e,r,a=f.clean(),p=c.result(),h=p.length;if(l.pop(),o.push(l),l=null,h)if(1&a){if((t=(e=p[0]).length-1)>0){for(s||(i.polygonStart(),s=!0),i.lineStart(),n=0;n<t;++n)i.point((r=e[n])[0],r[1]);i.lineEnd()}}else h>1&&2&a&&p.push(p.pop().concat(p.shift())),u.push(p.filter(Dn))}return p}}function Dn(n){return n.length>1}function In(n,t){return((n=n.x)[0]<0?n[1]-nn-K:nn-n[1])-((t=t.x)[0]<0?t[1]-nn-K:nn-t[1])}Tn.invert=Tn;var Yn=Bn((function(){return!0}),(function(n){var t,e=NaN,r=NaN,i=NaN;return{lineStart:function(){n.lineStart(),t=1},point:function(o,u){var l=o>0?Q:-Q,a=un(o-e);un(a-Q)<K?(n.point(e,r=(r+u)/2>0?nn:-nn),n.point(i,r),n.lineEnd(),n.lineStart(),n.point(l,r),n.point(o,r),t=0):i!==l&&a>=Q&&(un(e-i)<K&&(e-=i*K),un(o-l)<K&&(o-=l*K),r=function(n,t,e,r){var i,o,u=pn(n-e);return un(u)>K?ln((pn(t)*(o=cn(r))*pn(e)-pn(r)*(i=cn(t))*pn(n))/(i*o*u)):(t+r)/2}(e,r,o,u),n.point(i,r),n.lineEnd(),n.lineStart(),n.point(l,r),t=0),n.point(e=o,r=u),i=l},lineEnd:function(){n.lineEnd(),e=r=NaN},clean:function(){return 2-t}}}),(function(n,t,e,r){var i;if(null==n)i=e*nn,r.point(-Q,i),r.point(0,i),r.point(Q,i),r.point(Q,0),r.point(Q,-i),r.point(0,-i),r.point(-Q,-i),r.point(-Q,0),r.point(-Q,i);else if(un(n[0]-t[0])>K){var o=n[0]<t[0]?Q:-Q;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}),[-Q,-nn]);function qn(n){var t=cn(n),e=6*on,r=t>0,i=un(t)>K;function o(n,e){return cn(n)*cn(e)>t}function u(n,e,r){var i=[1,0,0],o=Mn(wn(n),wn(e)),u=kn(o,o),l=o[0],a=u-l*l;if(!a)return!r&&n;var c=t*u/a,f=-t*l/a,s=Mn(i,o),p=Cn(i,c);Nn(p,Cn(o,f));var h=s,d=kn(p,h),g=kn(h,h),v=d*d-g*(kn(p,p)-1);if(!(v<0)){var m=dn(v),y=Cn(h,(-d-m)/g);if(Nn(y,p),y=bn(y),!r)return y;var $,E=n[0],S=e[0],x=n[1],_=e[1];S<E&&($=E,E=S,S=$);var b=S-E,w=un(b-Q)<K;if(!w&&_<x&&($=x,x=_,_=$),w||b<K?w?x+_>0^y[1]<(un(y[0]-E)<K?x:_):x<=y[1]&&y[1]<=_:b>Q^(E<=y[0]&&y[0]<=S)){var k=Cn(h,(-d+m)/g);return Nn(k,p),[y,bn(k)]}}}function l(t,e){var i=r?n:Q-n,o=0;return t<-i?o|=1:t>i&&(o|=2),e<-i?o|=4:e>i&&(o|=8),o}return Bn(o,(function(n){var t,e,a,c,f;return{lineStart:function(){c=a=!1,f=1},point:function(s,p){var h,d=[s,p],g=o(s,p),v=r?g?0:l(s,p):g?l(s+(s<0?Q:-Q),p):0;if(!t&&(c=a=g)&&n.lineStart(),g!==a&&(!(h=u(t,d))||Un(t,h)||Un(d,h))&&(d[2]=1),g!==a)f=0,g?(n.lineStart(),h=u(d,t),n.point(h[0],h[1])):(h=u(t,d),n.point(h[0],h[1],2),n.lineEnd()),t=h;else if(i&&t&&r^g){var m;v&e||!(m=u(d,t,!0))||(f=0,r?(n.lineStart(),n.point(m[0][0],m[0][1]),n.point(m[1][0],m[1][1]),n.lineEnd()):(n.point(m[1][0],m[1][1]),n.lineEnd(),n.lineStart(),n.point(m[0][0],m[0][1],3)))}!g||t&&Un(t,d)||n.point(d[0],d[1]),t=d,a=g,e=v},lineEnd:function(){a&&n.lineEnd(),t=null},clean:function(){return f|(c&&a)<<1}}}),(function(t,r,i,o){!function(n,t,e,r,i,o){if(e){var u=cn(t),l=pn(t),a=r*e;null==i?(i=t+r*en,o=t-a/2):(i=Ln(u,i),o=Ln(u,o),(r>0?i<o:i>o)&&(i+=r*en));for(var c,f=i;r>0?f>o:f<o;f-=a)c=bn([u,-l*cn(f),-l*pn(f)]),n.point(c[0],c[1])}}(o,n,e,i,t,r)}),r?[0,-n]:[-Q,n-Q])}var Jn=1e9,Wn=-Jn;function Xn(n,t,e,r){function i(i,o){return n<=i&&i<=e&&t<=o&&o<=r}function o(i,o,l,c){var f=0,s=0;if(null==i||(f=u(i,l))!==(s=u(o,l))||a(i,o)<0^l>0)do{c.point(0===f||3===f?n:e,f>1?r:t)}while((f=(f+l+4)%4)!==s);else c.point(o[0],o[1])}function u(r,i){return un(r[0]-n)<K?i>0?0:3:un(r[0]-e)<K?i>0?2:1:un(r[1]-t)<K?i>0?1:0:i>0?3:2}function l(n,t){return a(n.x,t.x)}function a(n,t){var e=u(n,1),r=u(t,1);return e!==r?e-r:0===e?t[1]-n[1]:1===e?n[0]-t[0]:2===e?n[1]-t[1]:t[0]-n[0]}return function(u){var a,c,f,s,p,h,d,g,v,m,y,$=u,E=zn(),S={point:x,lineStart:function(){S.point=_,c&&c.push(f=[]);m=!0,v=!1,d=g=NaN},lineEnd:function(){a&&(_(s,p),h&&v&&E.rejoin(),a.push(E.result()));S.point=x,v&&$.lineEnd()},polygonStart:function(){$=E,a=[],c=[],y=!0},polygonEnd:function(){var t=function(){for(var t=0,e=0,i=c.length;e<i;++e)for(var o,u,l=c[e],a=1,f=l.length,s=l[0],p=s[0],h=s[1];a<f;++a)o=p,u=h,p=(s=l[a])[0],h=s[1],u<=r?h>r&&(p-o)*(r-u)>(h-u)*(n-o)&&++t:h<=r&&(p-o)*(r-u)<(h-u)*(n-o)&&--t;return t}(),e=y&&t,i=(a=X(a)).length;(e||i)&&(u.polygonStart(),e&&(u.lineStart(),o(null,null,1,u),u.lineEnd()),i&&Hn(a,l,t,o,u),u.polygonEnd());$=u,a=c=f=null}};function x(n,t){i(n,t)&&$.point(n,t)}function _(o,u){var l=i(o,u);if(c&&f.push([o,u]),m)s=o,p=u,h=l,m=!1,l&&($.lineStart(),$.point(o,u));else if(l&&v)$.point(o,u);else{var a=[d=Math.max(Wn,Math.min(Jn,d)),g=Math.max(Wn,Math.min(Jn,g))],E=[o=Math.max(Wn,Math.min(Jn,o)),u=Math.max(Wn,Math.min(Jn,u))];!function(n,t,e,r,i,o){var u,l=n[0],a=n[1],c=0,f=1,s=t[0]-l,p=t[1]-a;if(u=e-l,s||!(u>0)){if(u/=s,s<0){if(u<c)return;u<f&&(f=u)}else if(s>0){if(u>f)return;u>c&&(c=u)}if(u=i-l,s||!(u<0)){if(u/=s,s<0){if(u>f)return;u>c&&(c=u)}else if(s>0){if(u<c)return;u<f&&(f=u)}if(u=r-a,p||!(u>0)){if(u/=p,p<0){if(u<c)return;u<f&&(f=u)}else if(p>0){if(u>f)return;u>c&&(c=u)}if(u=o-a,p||!(u<0)){if(u/=p,p<0){if(u>f)return;u>c&&(c=u)}else if(p>0){if(u<c)return;u<f&&(f=u)}return c>0&&(n[0]=l+c*s,n[1]=a+c*p),f<1&&(t[0]=l+f*s,t[1]=a+f*p),!0}}}}}(a,E,n,t,e,r)?l&&($.lineStart(),$.point(o,u),y=!1):(v||($.lineStart(),$.point(a[0],a[1])),$.point(E[0],E[1]),l||$.lineEnd(),y=!1)}d=o,g=u,v=l}return S}}var Kn,Qn,nt,tt,et=n=>n,rt=new W,it=new W,ot={point:mn,lineStart:mn,lineEnd:mn,polygonStart:function(){ot.lineStart=ut,ot.lineEnd=ct},polygonEnd:function(){ot.lineStart=ot.lineEnd=ot.point=mn,rt.add(un(it)),it=new W},result:function(){var n=rt/2;return rt=new W,n}};function ut(){ot.point=lt}function lt(n,t){ot.point=at,Kn=nt=n,Qn=tt=t}function at(n,t){it.add(tt*n-nt*t),nt=n,tt=t}function ct(){at(Kn,Qn)}var ft=ot,st=1/0,pt=st,ht=-st,dt=ht;var gt,vt,mt,yt,$t={point:function(n,t){n<st&&(st=n);n>ht&&(ht=n);t<pt&&(pt=t);t>dt&&(dt=t)},lineStart:mn,lineEnd:mn,polygonStart:mn,polygonEnd:mn,result:function(){var n=[[st,pt],[ht,dt]];return ht=dt=-(pt=st=1/0),n}},Et=0,St=0,xt=0,_t=0,bt=0,wt=0,kt=0,Mt=0,Nt=0,Ct={point:jt,lineStart:At,lineEnd:Rt,polygonStart:function(){Ct.lineStart=Ot,Ct.lineEnd=Ft},polygonEnd:function(){Ct.point=jt,Ct.lineStart=At,Ct.lineEnd=Rt},result:function(){var n=Nt?[kt/Nt,Mt/Nt]:wt?[_t/wt,bt/wt]:xt?[Et/xt,St/xt]:[NaN,NaN];return Et=St=xt=_t=bt=wt=kt=Mt=Nt=0,n}};function jt(n,t){Et+=n,St+=t,++xt}function At(){Ct.point=Tt}function Tt(n,t){Ct.point=Pt,jt(mt=n,yt=t)}function Pt(n,t){var e=n-mt,r=t-yt,i=dn(e*e+r*r);_t+=i*(mt+n)/2,bt+=i*(yt+t)/2,wt+=i,jt(mt=n,yt=t)}function Rt(){Ct.point=jt}function Ot(){Ct.point=Lt}function Ft(){zt(gt,vt)}function Lt(n,t){Ct.point=zt,jt(gt=mt=n,vt=yt=t)}function zt(n,t){var e=n-mt,r=t-yt,i=dn(e*e+r*r);_t+=i*(mt+n)/2,bt+=i*(yt+t)/2,wt+=i,kt+=(i=yt*n-mt*t)*(mt+n),Mt+=i*(yt+t),Nt+=3*i,jt(mt=n,yt=t)}var Ut=Ct;function Gt(n){this._context=n}Gt.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(n,t){switch(this._point){case 0:this._context.moveTo(n,t),this._point=1;break;case 1:this._context.lineTo(n,t);break;default:this._context.moveTo(n+this._radius,t),this._context.arc(n,t,this._radius,0,en)}},result:mn};var Ht,Vt,Zt,Bt,Dt,It=new W,Yt={point:mn,lineStart:function(){Yt.point=qt},lineEnd:function(){Ht&&Jt(Vt,Zt),Yt.point=mn},polygonStart:function(){Ht=!0},polygonEnd:function(){Ht=null},result:function(){var n=+It;return It=new W,n}};function qt(n,t){Yt.point=Jt,Vt=Bt=n,Zt=Dt=t}function Jt(n,t){Bt-=n,Dt-=t,It.add(dn(Bt*Bt+Dt*Dt)),Bt=n,Dt=t}var Wt=Yt;function Xt(){this._string=[]}function Kt(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}function Qt(n){return function(t){var e=new ne;for(var r in n)e[r]=n[r];return e.stream=t,e}}function ne(){}function te(n,t,e){var r=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),null!=r&&n.clipExtent(null),_n(e,n.stream($t)),t($t.result()),null!=r&&n.clipExtent(r),n}function ee(n,t,e){return te(n,(function(e){var r=t[1][0]-t[0][0],i=t[1][1]-t[0][1],o=Math.min(r/(e[1][0]-e[0][0]),i/(e[1][1]-e[0][1])),u=+t[0][0]+(r-o*(e[1][0]+e[0][0]))/2,l=+t[0][1]+(i-o*(e[1][1]+e[0][1]))/2;n.scale(150*o).translate([u,l])}),e)}Xt.prototype={_radius:4.5,_circle:Kt(4.5),pointRadius:function(n){return(n=+n)!==this._radius&&(this._radius=n,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(n,t){switch(this._point){case 0:this._string.push("M",n,",",t),this._point=1;break;case 1:this._string.push("L",n,",",t);break;default:null==this._circle&&(this._circle=Kt(this._radius)),this._string.push("M",n,",",t,this._circle)}},result:function(){if(this._string.length){var n=this._string.join("");return this._string=[],n}return null}},ne.prototype={constructor:ne,point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var re=cn(30*on);function ie(n,t){return+t?function(n,t){function e(r,i,o,u,l,a,c,f,s,p,h,d,g,v){var m=c-r,y=f-i,$=m*m+y*y;if($>4*t&&g--){var E=u+p,S=l+h,x=a+d,_=dn(E*E+S*S+x*x),b=vn(x/=_),w=un(un(x)-1)<K||un(o-s)<K?(o+s)/2:an(S,E),k=n(w,b),M=k[0],N=k[1],C=M-r,j=N-i,A=y*C-m*j;(A*A/$>t||un((m*C+y*j)/$-.5)>.3||u*p+l*h+a*d<re)&&(e(r,i,o,u,l,a,M,N,w,E/=_,S/=_,x,g,v),v.point(M,N),e(M,N,w,E,S,x,c,f,s,p,h,d,g,v))}}return function(t){var r,i,o,u,l,a,c,f,s,p,h,d,g={point:v,lineStart:m,lineEnd:$,polygonStart:function(){t.polygonStart(),g.lineStart=E},polygonEnd:function(){t.polygonEnd(),g.lineStart=m}};function v(e,r){e=n(e,r),t.point(e[0],e[1])}function m(){f=NaN,g.point=y,t.lineStart()}function y(r,i){var o=wn([r,i]),u=n(r,i);e(f,s,c,p,h,d,f=u[0],s=u[1],c=r,p=o[0],h=o[1],d=o[2],16,t),t.point(f,s)}function $(){g.point=v,t.lineEnd()}function E(){m(),g.point=S,g.lineEnd=x}function S(n,t){y(r=n,t),i=f,o=s,u=p,l=h,a=d,g.point=y}function x(){e(f,s,c,p,h,d,i,o,r,u,l,a,16,t),g.lineEnd=$,$()}return g}}(n,t):function(n){return Qt({point:function(t,e){t=n(t,e),this.stream.point(t[0],t[1])}})}(n)}var oe=Qt({point:function(n,t){this.stream.point(n*on,t*on)}});function ue(n,t,e,r,i,o){if(!o)return function(n,t,e,r,i){function o(o,u){return[t+n*(o*=r),e-n*(u*=i)]}return o.invert=function(o,u){return[(o-t)/n*r,(e-u)/n*i]},o}(n,t,e,r,i);var u=cn(o),l=pn(o),a=u*n,c=l*n,f=u/n,s=l/n,p=(l*e-u*t)/n,h=(l*t+u*e)/n;function d(n,o){return[a*(n*=r)-c*(o*=i)+t,e-c*n-a*o]}return d.invert=function(n,t){return[r*(f*n-s*t+p),i*(h-s*n-f*t)]},d}function le(n){return function(n){var t,e,r,i,o,u,l,a,c,f,s=150,p=480,h=250,d=0,g=0,v=0,m=0,y=0,$=0,E=1,S=1,x=null,_=Yn,b=null,w=et,k=.5;function M(n){return a(n[0]*on,n[1]*on)}function N(n){return(n=a.invert(n[0],n[1]))&&[n[0]*rn,n[1]*rn]}function C(){var n=ue(s,0,0,E,S,$).apply(null,t(d,g)),r=ue(s,p-n[0],h-n[1],E,S,$);return e=Pn(v,m,y),l=An(t,r),a=An(e,l),u=ie(l,k),j()}function j(){return c=f=null,M}return M.stream=function(n){return c&&f===n?c:c=oe(function(n){return Qt({point:function(t,e){var r=n(t,e);return this.stream.point(r[0],r[1])}})}(e)(_(u(w(f=n)))))},M.preclip=function(n){return arguments.length?(_=n,x=void 0,j()):_},M.postclip=function(n){return arguments.length?(w=n,b=r=i=o=null,j()):w},M.clipAngle=function(n){return arguments.length?(_=+n?qn(x=n*on):(x=null,Yn),j()):x*rn},M.clipExtent=function(n){return arguments.length?(w=null==n?(b=r=i=o=null,et):Xn(b=+n[0][0],r=+n[0][1],i=+n[1][0],o=+n[1][1]),j()):null==b?null:[[b,r],[i,o]]},M.scale=function(n){return arguments.length?(s=+n,C()):s},M.translate=function(n){return arguments.length?(p=+n[0],h=+n[1],C()):[p,h]},M.center=function(n){return arguments.length?(d=n[0]%360*on,g=n[1]%360*on,C()):[d*rn,g*rn]},M.rotate=function(n){return arguments.length?(v=n[0]%360*on,m=n[1]%360*on,y=n.length>2?n[2]%360*on:0,C()):[v*rn,m*rn,y*rn]},M.angle=function(n){return arguments.length?($=n%360*on,C()):$*rn},M.reflectX=function(n){return arguments.length?(E=n?-1:1,C()):E<0},M.reflectY=function(n){return arguments.length?(S=n?-1:1,C()):S<0},M.precision=function(n){return arguments.length?(u=ie(l,k=n*n),j()):dn(k)},M.fitExtent=function(n,t){return ee(M,n,t)},M.fitSize=function(n,t){return function(n,t,e){return ee(n,[[0,0],t],e)}(M,n,t)},M.fitWidth=function(n,t){return function(n,t,e){return te(n,(function(e){var r=+t,i=r/(e[1][0]-e[0][0]),o=(r-i*(e[1][0]+e[0][0]))/2,u=-i*e[0][1];n.scale(150*i).translate([o,u])}),e)}(M,n,t)},M.fitHeight=function(n,t){return function(n,t,e){return te(n,(function(e){var r=+t,i=r/(e[1][1]-e[0][1]),o=-i*e[0][0],u=(r-i*(e[1][1]+e[0][1]))/2;n.scale(150*i).translate([o,u])}),e)}(M,n,t)},function(){return t=n.apply(this,arguments),M.invert=t.invert&&N,C()}}((function(){return n}))()}function ae(n,t){return[n,sn(gn((nn+t)/2))]}ae.invert=function(n,t){return[n,2*ln(fn(t))-nn]};const ce=function(n){var t,e,r,i=le(n),o=i.center,u=i.scale,l=i.translate,a=i.clipExtent,c=null;function f(){var o=Q*u(),l=i(function(n){function t(t){return(t=n(t[0]*on,t[1]*on))[0]*=rn,t[1]*=rn,t}return n=Pn(n[0]*on,n[1]*on,n.length>2?n[2]*on:0),t.invert=function(t){return(t=n.invert(t[0]*on,t[1]*on))[0]*=rn,t[1]*=rn,t},t}(i.rotate()).invert([0,0]));return a(null==c?[[l[0]-o,l[1]-o],[l[0]+o,l[1]+o]]:n===ae?[[Math.max(l[0]-o,c),t],[Math.min(l[0]+o,e),r]]:[[c,Math.max(l[1]-o,t)],[e,Math.min(l[1]+o,r)]])}return i.scale=function(n){return arguments.length?(u(n),f()):u()},i.translate=function(n){return arguments.length?(l(n),f()):l()},i.center=function(n){return arguments.length?(o(n),f()):o()},i.clipExtent=function(n){return arguments.length?(null==n?c=t=e=r=null:(c=+n[0][0],t=+n[0][1],e=+n[1][0],r=+n[1][1]),f()):null==c?null:[[c,t],[e,r]]},f()}(ae).scale(961/en),fe=function(n,t){var e,r,i=4.5;function o(n){return n&&("function"==typeof i&&r.pointRadius(+i.apply(this,arguments)),_n(n,e(r))),r.result()}return o.area=function(n){return _n(n,e(ft)),ft.result()},o.measure=function(n){return _n(n,e(Wt)),Wt.result()},o.bounds=function(n){return _n(n,e($t)),$t.result()},o.centroid=function(n){return _n(n,e(Ut)),Ut.result()},o.projection=function(t){return arguments.length?(e=null==t?(n=null,et):(n=t).stream,o):n},o.context=function(n){return arguments.length?(r=null==n?(t=null,new Xt):new Gt(t=n),"function"!=typeof i&&r.pointRadius(i),o):t},o.pointRadius=function(n){return arguments.length?(i="function"==typeof n?n:(r.pointRadius(+n),+n),o):i},o.projection(n).context(t)}().projection(ce);function se(){let n;const t={"Viet Nam":"Vietnam"};return I("https://cdn.jsdelivr.net/gh/lukes/ISO-3166-Countries-with-Regional-Codes@master/all/all.csv").then((n=>n.reduce(((n,t)=>n.set(t["country-code"],t.name)),new Map))).then((t=>n=t)).then((()=>function(n,t){return fetch(n,t).then(Y)}("https://unpkg.com/world-atlas@1.1.4/world/110m.json"))).then((n=>{return t=n,"string"==typeof(e=n.objects.countries)&&(e=t.objects[e]),"GeometryCollection"===e.type?{type:"FeatureCollection",features:e.geometries.map((function(n){return J(t,n)}))}:J(t,e);var t,e})).then((n=>n.features)).then((t=>t.map((t=>({id:t.id,name:n.get(t.id),d:fe(t)}))))).then((n=>n.filter((n=>!!n.name)))).then((n=>n.map((n=>(n.name in t&&(n.name=t[n.name]),n)))))}function pe(n,t,e){const r=n.slice();return r[11]=t[e],r[17]=e,r}function he(n){let t,e,r,i,o,f,p,v=n[11]?.name+"",m=(n[12](n[11].name)||0)+"";return{c(){t=c("div"),e=c("p"),r=c("span"),i=s(v),o=s("\r\n        No.of nodes: "),f=s(m),g(r,"display","block"),g(e,"color","white"),g(e,"font-size","18px"),g(e,"margin","0"),h(t,"style",p=`\n  background-color: #333;\n  padding: 5px;\n  position: fixed;\n  top: ${n[9]}px;\n  left: ${n[8]}px;\n`)},m(n,a){l(n,t,a),u(t,e),u(e,r),u(r,i),u(e,o),u(e,f)},p(n,e){2048&e&&v!==(v=n[11]?.name+"")&&d(i,v),2048&e&&m!==(m=(n[12](n[11].name)||0)+"")&&d(f,m),768&e&&p!==(p=`\n  background-color: #333;\n  padding: 5px;\n  position: fixed;\n  top: ${n[9]}px;\n  left: ${n[8]}px;\n`)&&h(t,"style",p)},d(n){n&&a(t)}}}function de(n){let t,e,i,o,u,c,s,d;return{c(){t=f("path"),h(t,"id",e=n[11].id),h(t,"data-name",i=n[11].name),h(t,"data-index",o=n[17]),h(t,"d",u=n[11].d),h(t,"fill",c=n[12](n[11].name)?`rgba(${n[3]}, ${n[4]}, ${n[5]}, ${.5+n[12](n[11].name)/n[10]})`:null)},m(n,e){l(n,t,e),s||(d=[p(t,"mousemove",ve("#1982b1")),p(t,"mouseleave",ve())],s=!0)},p(n,r){64&r&&e!==(e=n[11].id)&&h(t,"id",e),64&r&&i!==(i=n[11].name)&&h(t,"data-name",i),64&r&&u!==(u=n[11].d)&&h(t,"d",u),1144&r&&c!==(c=n[12](n[11].name)?`rgba(${n[3]}, ${n[4]}, ${n[5]}, ${.5+n[12](n[11].name)/n[10]})`:null)&&h(t,"fill",c)},d(n){n&&a(t),s=!1,r(d)}}}function ge(t){let e,r,i,o,d,g=t[7]&&he(t),v=t[6],m=[];for(let n=0;n<v.length;n+=1)m[n]=de(pe(t,v,n));return{c(){e=c("section"),g&&g.c(),r=s(" "),i=f("svg");for(let n=0;n<m.length;n+=1)m[n].c();this.c=n,h(i,"width","100%"),h(i,"viewBox","30 -192 960 630"),h(i,"fill",t[0]),h(i,"stroke",t[1]),h(i,"stroke-width",t[2])},m(n,a){l(n,e,a),g&&g.m(e,null),u(e,r),u(e,i);for(let n=0;n<m.length;n+=1)m[n].m(i,null);o||(d=p(e,"mousemove",t[13]),o=!0)},p(n,[t]){if(n[7]?g?g.p(n,t):(g=he(n),g.c(),g.m(e,r)):g&&(g.d(1),g=null),5240&t){let e;for(v=n[6],e=0;e<v.length;e+=1){const r=pe(n,v,e);m[e]?m[e].p(r,t):(m[e]=de(r),m[e].c(),m[e].m(i,null))}for(;e<m.length;e+=1)m[e].d(1);m.length=v.length}1&t&&h(i,"fill",n[0]),2&t&&h(i,"stroke",n[1]),4&t&&h(i,"stroke-width",n[2])},i:n,o:n,d(n){n&&a(e),g&&g.d(),function(n,t){for(let e=0;e<n.length;e+=1)n[e]&&n[e].d(t)}(m,n),o=!1,d()}}}function ve(n=null){return t=>{t.target.style.stroke=n}}function me(n,t,e){let r,i,o=[],{fill:u="ghostwhite"}=t,{stroke:l="#4cbbd9"}=t,{strokewidth:a=.5}=t,{r:c=25}=t,{g:f=130}=t,{b:s=177}=t,{nodes:p}=t,h={},d=!1;$((async()=>{e(6,o=await se())}));let g=0,v=0;return n.$$set=n=>{"fill"in n&&e(0,u=n.fill),"stroke"in n&&e(1,l=n.stroke),"strokewidth"in n&&e(2,a=n.strokewidth),"r"in n&&e(3,c=n.r),"g"in n&&e(4,f=n.g),"b"in n&&e(5,s=n.b),"nodes"in n&&e(14,p=n.nodes)},n.$$.update=()=>{if(16384&n.$$.dirty)try{e(15,h=JSON.parse(p))}catch(n){}32768&n.$$.dirty&&e(10,r=Math.max(0,...Object.values(h)))},[u,l,a,c,f,s,o,d,g,v,r,i,function(n){for(const t in h)if(n.startsWith(t))return h[t];return null},function(n){const{clientX:t,clientY:r,target:u}=n;u instanceof SVGPathElement?(e(7,d=!0),e(8,g=t-10),e(9,v=r+25),e(11,i=o[u.getAttribute("data-index")])):e(7,d=!1)},p,h]}customElements.define("tf-map",class extends R{constructor(n){super(),P(this,{target:this.shadowRoot,props:v(this.attributes),customElement:!0},me,ge,o,{fill:0,stroke:1,strokewidth:2,r:3,g:4,b:5,nodes:14},null),n&&(n.target&&l(n.target,this,n.anchor),n.props&&(this.$set(n.props),C()))}static get observedAttributes(){return["fill","stroke","strokewidth","r","g","b","nodes"]}get fill(){return this.$$.ctx[0]}set fill(n){this.$$set({fill:n}),C()}get stroke(){return this.$$.ctx[1]}set stroke(n){this.$$set({stroke:n}),C()}get strokewidth(){return this.$$.ctx[2]}set strokewidth(n){this.$$set({strokewidth:n}),C()}get r(){return this.$$.ctx[3]}set r(n){this.$$set({r:n}),C()}get g(){return this.$$.ctx[4]}set g(n){this.$$set({g:n}),C()}get b(){return this.$$.ctx[5]}set b(n){this.$$set({b:n}),C()}get nodes(){return this.$$.ctx[14]}set nodes(n){this.$$set({nodes:n}),C()}})}();
